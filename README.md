# Crowdfunding Web Application

## Περιγραφή
Η εφαρμογή είναι μια ιστοσελίδα crowdfunding όπου οι χρήστες μπορούν να δημιουργήσουν, να υποστηρίξουν και να διαχειριστούν έργα χρηματοδότησης. Υλοποιήθηκε με τη χρήση **Spring Boot** + **Spring Data JPA**, **Spring Security** για authentication/authorization, **Thymeleaf** για την απόδοση HTML, και βάση δεδομένων για την αποθήκευση των δεδομένων.

### Ρόλοι χρηστών:
- **Supporter**: Μπορεί να δει τα διαθέσιμα έργα, να κάνει δωρεές και να λαμβάνει ειδοποιήσεις από τους δημιουργούς (Founders).
- **Founder**: Μπορεί να δημιουργήσει νέα έργα, να επεξεργαστεί τα έργα του, να στείλει ειδοποιήσεις στους υποστηρικτές του, και διαθέτει όλες τις δυνατότητες του Supporter.
- **Admin**: Μπορεί να διαχειριστεί χρήστες, να εγκρίνει ή να απορρίψει νέα έργα, και διαθέτει όλες τις δυνατότητες των άλλων ρόλων.

---

## Χαρακτηριστικά
- Προστασία μέσω **Spring Security** με διαφορετικά επίπεδα πρόσβασης (Admin, Founder, Supporter).
- **CRUD λειτουργίες** για τα έργα crowdfunding.
- Υποστήριξη δωρεών σε έργα από τους υποστηρικτές.
- Αποστολή ειδοποιήσεων στους υποστηρικτές ενός έργου από τον δημιουργό.
- Έγκριση ή απόρριψη νέων έργων από Admins.
- Δυνατότητα διαχείρισης χρηστών από Admins.
- Διεπαφή χρήστη υλοποιημένη με **Thymeleaf** και HTML.
- Αξιοποίηση του **Spring Data JPA** για τη διαχείριση της βάσης δεδομένων.

---

## Τεχνολογίες
- **Backend:** Spring Boot, Spring Security, Spring Data JPA
- **Frontend:** Thymeleaf, HTML, CSS
- **Βάση δεδομένων:** Postgres ή οποιαδήποτε άλλη σχεσιακή βάση δεδομένων
- **Build Tool:** Maven

---
## Clone project
- Εκτελέστε την εντολή:
     ```bash
     git clone https://github.com/it21943-it216119/Git-repo-katanemhmena.git
     ```


## Ρύθμιση της Εφαρμογής

1. **Ρύθμιση βάσης δεδομένων:**
    - Δημιουργήστε μια δωρεάν βάση δεδομένων με το όνομα `crowdfunding_db` στο https://render.com/.
    - Ενημερώστε το αρχείο `application.properties` με τις κατάλληλες ρυθμίσεις:
      ```properties
      spring.datasource.url=jdbc:postgresql://localhost:3306/crowdfunding_db
      spring.datasource.username=root
      spring.datasource.password=yourpassword
      spring.jpa.hibernate.ddl-auto=update
      ```

2. **Εγκατάσταση εξαρτήσεων:**
    - Εκτελέστε την εντολή:
      ```bash
      mvn clean install
      ```

3. **Εκκίνηση εφαρμογής:**
    - Πριν εκκινήσετε την εφαρμογή, βεβαιωθείτε ότι οι μεταβλητές περιβάλλοντος **JAVA_HOME** και **M2_HOME** είναι ρυθμισμένες σωστά:
        - **JAVA_HOME**: Ορίζει τη διαδρομή όπου είναι εγκατεστημένη η Java.
        - **M2_HOME**: Ορίζει τη διαδρομή όπου είναι εγκατεστημένο το Maven.
    - Τρέξτε την εφαρμογή:
      ```bash
      ./mvnw spring-boot:run
      ```

4. **Πρόσβαση στην εφαρμογή:**
    - Ανοίξτε έναν browser και μεταβείτε στη διεύθυνση:
      ```
      http://localhost:9090
      ```

---

# User Manual

## Endpoints

### Authentication

- **GET /login**:  
  **Περιγραφή**: Εμφάνιση της σελίδας σύνδεσης.  
  **Παράμετροι**: Δεν υπάρχουν.

- **GET /register**:  
  **Περιγραφή**: Εμφάνιση της σελίδας εγγραφής νέου χρήστη.  
  **Παράμετροι**: Δεν υπάρχουν.

- **POST /saveUser**:  
  **Περιγραφή**: Αποθήκευση νέου χρήστη και ανάθεση ρόλου.  
  **Παράμετροι**:
    - `@ModelAttribute User user`: Στοιχεία του χρήστη που υποβάλλονται μέσω φόρμας.
    - `@RequestParam("role") String role`: Ο ρόλος του χρήστη (π.χ., SUPPORTER, FOUNDER, ADMIN).

### Projects

- **GET /projects**:  
  **Περιγραφή**: Εμφάνιση όλων των διαθέσιμων έργων.  
  **Παράμετροι**: Δεν υπάρχουν.

- **GET /projects/{id}**:  
  **Περιγραφή**: Εμφάνιση λεπτομερειών ενός έργου.  
  **Παράμετροι**:
    - `@PathVariable Integer id`: Το μοναδικό αναγνωριστικό του έργου.

- **GET /projects/new**:  
  **Περιγραφή**: Σελίδα για τη δημιουργία νέου έργου (μόνο για Founders).  
  **Παράμετροι**: Δεν υπάρχουν.

- **POST /projects/new**:  
  **Περιγραφή**: Αποθήκευση ενός νέου έργου.  
  **Παράμετροι**:
    - `@ModelAttribute("project") Project project`: Τα στοιχεία του νέου έργου που υποβάλλονται μέσω φόρμας.

- **GET /projects/donate/{id}**:  
  **Περιγραφή**: Σελίδα για τη δωρεά σε συγκεκριμένο έργο.  
  **Παράμετροι**:
    - `@PathVariable Integer id`: Το μοναδικό αναγνωριστικό του έργου.

- **POST /projects/donate/{id}**:  
  **Περιγραφή**: Επεξεργασία δωρεάς σε συγκεκριμένο έργο.  
  **Παράμετροι**:
    - `@PathVariable Integer id`: Το μοναδικό αναγνωριστικό του έργου.
    - `@RequestParam("amount") Double amount`: Το ποσό της δωρεάς.

### My Projects

- **GET /myprojects**:  
  **Περιγραφή**: Εμφάνιση των έργων που έχει δημιουργήσει ο χρήστης.  
  **Παράμετροι**: Δεν υπάρχουν.

- **GET /myprojects/delete/{id}**:  
  **Περιγραφή**: Σελίδα επιβεβαίωσης διαγραφής έργου (μόνο για Founders).  
  **Παράμετροι**:
    - `@PathVariable Integer id`: Το μοναδικό αναγνωριστικό του έργου που θα διαγραφεί.

- **POST /myprojects/delete/{id}**:  
  **Περιγραφή**: Διαγραφή ενός έργου που ανήκει στον Founder.  
  **Παράμετροι**:
    - `@PathVariable Integer id`: Το μοναδικό αναγνωριστικό του έργου που διαγράφεται.

- **GET /myprojects/edit/{id}**:  
  **Περιγραφή**: Σελίδα επεξεργασίας του έργου του Founder.  
  **Παράμετροι**:
    - `@PathVariable Integer id`: Το μοναδικό αναγνωριστικό του έργου.

- **POST /myprojects/edit/{id}**:  
  **Περιγραφή**: Επεξεργασία ενός έργου (π.χ. αλλαγή περιγραφής ή στόχου χρηματοδότησης).  
  **Παράμετροι**:
    - `@PathVariable Integer id`: Το μοναδικό αναγνωριστικό του έργου.
    - `@RequestParam("description") String newDescription`: Νέα περιγραφή του έργου.
    - `@RequestParam("fundingGoal") Double newFundingGoal`: Νέος στόχος χρηματοδότησης.

- **GET /myprojects/notify/{id}**:  
  **Περιγραφή**: Εμφάνιση της φόρμας για αποστολή ειδοποιήσεων στους υποστηρικτές.  
  **Παράμετροι**:
    - `@PathVariable Integer id`: Το μοναδικό αναγνωριστικό του έργου.

- **POST /myprojects/notify/{id}**:  
  **Περιγραφή**: Δημιουργία ειδοποίησης για το έργο του Founder.  
  **Παράμετροι**:
    - `@PathVariable Integer id`: Το μοναδικό αναγνωριστικό του έργου.
    - `@ModelAttribute("notification") Notification notification`: Ειδοποίηση που δημιουργείται.

### Notifications

- **GET /notifications**:  
  **Περιγραφή**: Εμφάνιση των ειδοποιήσεων για τον υποστηρικτή.  
  **Παράμετροι**: Δεν υπάρχουν.

### Admin

- **GET /approval**:  
  **Περιγραφή**: Εμφάνιση των έργων που περιμένουν έγκριση από τον Admin.  
  **Παράμετροι**: Δεν υπάρχουν.

- **POST /approval/update-status/{id}**:  
  **Περιγραφή**: Ενημέρωση της κατάστασης ενός έργου (Έγκριση/Απόρριψη).  
  **Παράμετροι**:
    - `@PathVariable Integer projectId`: Το μοναδικό αναγνωριστικό του έργου.
    - `@RequestParam ProjectStatus status`: Νέα κατάσταση του έργου.

- **GET /users**:  
  **Περιγραφή**: Εμφάνιση όλων των χρηστών για διαχείριση από τον Admin.  
  **Παράμετροι**: Δεν υπάρχουν.

- **GET /user/{user_id}**:  
  **Περιγραφή**: Εμφάνιση λεπτομερειών ενός χρήστη.  
  **Παράμετροι**:
    - `@PathVariable Long user_id`: Το μοναδικό αναγνωριστικό του χρήστη.

- **POST /user/{user_id}**:  
  **Περιγραφή**: Ενημέρωση των στοιχείων ενός χρήστη.  
  **Παράμετροι**:
    - `@PathVariable Long user_id`: Το μοναδικό αναγνωριστικό του χρήστη.
    - `@ModelAttribute("user") User user`: Τα νέα στοιχεία του χρήστη.

- **GET /user/role/delete/{user_id}/{role_id}**:  
  **Περιγραφή**: Διαγραφή ρόλου από χρήστη.  
  **Παράμετροι**:
    - `@PathVariable Long user_id`: Το μοναδικό αναγνωριστικό του χρήστη.
    - `@PathVariable Integer role_id`: Το μοναδικό αναγνωριστικό του ρόλου.

- **GET /user/role/add/{user_id}/{role_id}**:  
  **Περιγραφή**: Προσθήκη ρόλου σε χρήστη.  
  **Παράμετροι**:
    - `@PathVariable Long user_id`: Το μοναδικό αναγνωριστικό του χρήστη.
    - `@PathVariable Integer role_id`: Το μοναδικό αναγνωριστικό του ρόλου.

---

## Δικαιώματα Πρόσβασης

### **Supporter (Υποστηρικτής)**

- **Πρόσβαση**:
    - `/projects`: Εμφάνιση όλων των έργων που είναι διαθέσιμα για υποστήριξη.
    - `/projects/{id}`: Εμφάνιση λεπτομερειών ενός έργου.
    - `/projects/donate/{id}`: Φόρμα δωρεάς για να υποστηρίξει ένα έργο.

- **Δυνατότητες**:
    - Δωρεά σε έργα μέσω της φόρμας δωρεάς.

---

### **Founder (Δημιουργός Έργου)**

- **Όλα τα δικαιώματα του Supporter**:
    - Πρόσβαση στα `/projects`, `/projects/{id}`, `/projects/donate/{id}`.
    - Δυνατότητα δωρεάς σε έργα.

- **Πρόσβαση**:
    - `/projects/new`: Δημιουργία νέων έργων.
    - `/myprojects`: Εμφάνιση και διαχείριση των έργων που έχει δημιουργήσει (π.χ. επεξεργασία, διαγραφή).
    - `/myprojects/notify/{id}`: Αποστολή ειδοποιήσεων στους υποστηρικτές του έργου.

- **Δυνατότητες**:
    - Δημιουργία νέων έργων.
    - Επεξεργασία έργων που έχει δημιουργήσει (π.χ. περιγραφή, στόχος χρηματοδότησης).
    - Διαγραφή των έργων που έχει δημιουργήσει.
    - Αποστολή ειδοποιήσεων στους υποστηρικτές του έργου.

---

### **Admin (Διαχειριστής)**

- **Όλα τα δικαιώματα του Founder**:
    - Πρόσβαση στα `/projects`, `/projects/{id}`, `/projects/donate/{id}`.
    - Δυνατότητα δωρεάς σε έργα.
    - Δημιουργία νέων έργων.
    - Επεξεργασία έργων του Founder.
    - Διαγραφή έργων του Founder.
    - Αποστολή ειδοποιήσεων στους υποστηρικτές.

- **Πρόσβαση**:
    - `/approval`: Εγκρίνει ή απορρίπτει έργα που περιμένουν έγκριση.
    - `/users`: Διαχείριση χρηστών (π.χ. εμφάνιση, επεξεργασία, διαγραφή χρηστών).
    - `/user/{user_id}`: Εμφάνιση και επεξεργασία στοιχείων χρήστη.
    - Δυνατότητα προσθήκης ή αφαίρεσης ρόλων από χρήστες.

- **Δυνατότητες**:
    - Διαχείριση χρηστών (π.χ. αλλαγή στοιχείων χρηστών, αφαίρεση ή προσθήκη ρόλων).
    - Έγκριση ή απόρριψη έργων που περιμένουν έγκριση.

---

## Συνεισφορά
Αν θέλετε να συνεισφέρετε στο project, μπορείτε:
1. Να ανοίξετε ένα ζήτημα (issue) στο GitHub repository.
2. Να δημιουργήσετε ένα pull request με τις αλλαγές σας.

---

## Υποστήριξη
Για οποιοδήποτε πρόβλημα ή ερώτηση, επικοινωνήστε με την ομάδα υποστήριξης στο:
**email:** it21943@hua.gr

